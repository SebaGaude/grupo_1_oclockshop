<!DOCTYPE html>
<html lang="en">

<%- include("partials/head") %>

    <body>

        <%- include("partials/header") %>

            <main class="main">

                <!-- Formulario de Creacion de producto-->
                <section class="contenedor-form-ec">
                    <form action="/products" method="POST" class="formulario-edicion-creacion productsCreateForm" enctype="multipart/form-data">

                        <h1 class="titulo-new-edit">
                            Alta de producto
                        </h1>

                        <ul id="errorsCreate"></ul>

                        <div class="control-formulario">
                            <label class="preguntas-form"> Nombre del artículo </label>
                            <input type="text" id="articulo" name="articulo" placeholder=" ej: Reloj suizo enchapado en oro" value="<%= locals.oldData ? oldData.articulo : null %>" class="ticks">
                            <% if (locals.errors && errors.articulo) { %>
                                <div class="errorMsg">
                                    <%= errors.articulo.msg %> 
                                </div>
                            <% } %>
                        </div>

                        <div class="control-formulario">
                            <label class="preguntas-form"> Descripción del artículo</label>
                            <input type="text" id="descripcion" name="descripcion" placeholder=" descripcion del articulo" value="<%= locals.oldData ? oldData.descripcion : null %>" class="ticks" >
                            <% if (locals.errors && errors.descripcion) { %>
                                <div class="errorMsg">
                                    <%= errors.descripcion.msg %> 
                                </div>
                            <% } %>
                        
                        </div>

                        <div class="control-formulario">
                            <label class="preguntas-form"> Imagen del artículo </label>
                            <input type="file" id="imagenProducto" name="imagen" accept=".jpg, .png" class="clase-ecf" multiple>
                            <% if (locals.errors && errors.imagen) { %>
                                <div class="errorMsg">
                                    <%= errors.imagen.msg %>
                                </div>
                            <% } %>
                        </div>


                        <div class="control-formulario">
                            <label class="preguntas-form"> Categoría del artículo</label>
                           <select id="categoria" name="categoria" class="ticks">
                                <option disabled selected value> -- Elegir una opción -- </option>
                                <% for (let i=0; i<categorias.length; i++)  {%>
                         
                                    <option value="<%=categorias[i].id %>">
                                        <%=categorias[i].nombre%>
                                    </option>
                                    <%} %>
                          </select>
                        </div>
                        <div class="control-formulario">
                            <label class="preguntas-form"> Cantidad del artículo</label>
                            <input id="numero" type="number" name="stock" placeholder="Cantidad..." class="ticks" >
                        </div>
                        <div class="control-formulario">
                            <label class="preguntas-form"> Marca del artículo</label>
                            <select id="marca" name="marca" class="ticks">
                                <option disabled selected value> -- Elegir una opción -- </option>
                                <% for (let i=0; i<marcas.length; i++)  {%>
                          
                                     <option value="<%=marcas[i].id %>">
                                         <%=marcas[i].nombre%>
                                     </option>
                                     <%} %>
                           </select>                       
                        </div>
                        <div class="control-formulario">
                            <label class="preguntas-form"> Precio del artículo</label>
                            <input id="precio" type="text" name="precio" placeholder="$$$" class="ticks">
                        </div>
                        <!-- Botón "enviar"-->
                        <div>
                            <button type="submit" class="newProductButton">Crear artículo</button>
                            <button type="reset" class="deleteInfoButton">Borrar todo</button>
                        </div>
                </section>
                <!-- ----------- -->
                </form>

            </main>
           <script src="../../js/validateCreateProduct.js"></script>
            <%- include("partials/footer") %>

</html>